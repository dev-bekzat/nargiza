<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SDU Friends - Events</title>
    <link rel="stylesheet" href="/events.css">
</head>
<body>
<header>
    <div class="navbar">
        <div class="logo">
            <a href="/home">
                <img src="/images/logo.png" alt="SDU Friends Logo">
            </a>
        </div>
        <nav class="menu">
            <ul>
                <li><a href="/home" class="nav-link">Home</a></li>
                <li><a href="/events" class="nav-link">Events</a></li>
                <li><a href="/profile" class="nav-link">Profile</a></li>
                <li><a href="/logout" class="nav-link">Logout</a></li>
            </ul>
        </nav>
    </div>
</header>

<main>
    <section class="events-section">
        <h2>Upcoming Events</h2>
        <div class="events-grid">
            <!-- Статичные карточки -->
            <div class="event-card">
                <img src="./images/concert.png" alt="Concert" class="event-image">
                <div class="event-info">
                    <h3 class="event-title">Concert</h3>
                    <p>Date: 27.10.24</p>
                    <p>Time: 18:00</p>
                    <p>Location: Central Park</p>
                </div>
            </div>
            <div class="event-card">
                <img src="./images/mountains.png" alt="Mountain" class="event-image">
                <div class="event-info">
                    <h3 class="event-title">Mountain</h3>
                    <p>Date: 31.10.24</p>
                    <p>Time: 08:00</p>
                    <p>Location: Rockies</p>
                </div>
            </div>
            <div class="event-card">
                <img src="./images/movie.png" alt="Movie Night" class="event-image">
                <div class="event-info">
                    <h3 class="event-title">Movie Night</h3>
                    <p>Date: 27.10.24</p>
                    <p>Time: 21:00</p>
                    <p>Location: SDU Hall</p>
                </div>
            </div>
        </div>

        <br>

        <h2>Your Events</h2>

        <!-- Динамически рендеренные карточки из userEvents -->
        <div class="events-grid">
            <a th:href="@{/event-info(id=${event.id})}" class="event-card" style="text-decoration: none" th:each="event : ${userEvents}">
                <img th:src="@{${event.imagePath}}" alt="Event Image" class="event-image">
                <div class="event-info">
                    <h3 class="event-title" th:text="${event.title}">Event Title</h3>
                    <p>Date: <span th:text="${event.date}"></span></p>
                    <p>Time: <span th:text="${event.time}"></span></p>
                    <p>Location: <span th:text="${event.location}"></span></p>
                    <p>Participants: <span th:text="${event.participants.size()}">0</span></p>
                </div>
            </a>
        </div>
    </section>
</main>

<!--<script>-->
<!--    const joinedEvents = JSON.parse(localStorage.getItem('joinedEvents')) || [];-->
<!--    console.log('Joined Events:', joinedEvents);-->

<!--    const eventCards = document.querySelectorAll('.event-card');-->

<!--    eventCards.forEach(card => {-->
<!--        const eventTitleElement = card.querySelector('.event-title');-->
<!--        if (!eventTitleElement) {-->
<!--            console.warn('Event title not found in card:', card);-->
<!--        }-->

<!--        const eventTitle = eventTitleElement.innerText;-->

<!--        if (joinedEvents.includes(eventTitle)) {-->
<!--            card.classList.add('joined');-->
<!--            console.log(`Event "${eventTitle}" marked as joined.`);-->
<!--        }-->
<!--    });-->

<!--    const currentPath = window.location.pathname;-->
<!--    const navLinks = document.querySelectorAll('.nav-link');-->
<!--    navLinks.forEach(link => {-->
<!--        if (link.getAttribute('href') === currentPath) {-->
<!--            link.classList.add('active');-->
<!--        }-->
<!--    });-->
<!--</script>-->

<!--<style>-->
<!--    .event-card.joined {-->
<!--        border: 3px solid #FFD700;-->
<!--        background-color: #FFF8DC;-->
<!--    }-->

<!--    .nav-link.active {-->
<!--        color: #FFD700;-->
<!--        border-bottom: 2px solid #FFD700;-->
<!--    }-->
<!--</style>-->

